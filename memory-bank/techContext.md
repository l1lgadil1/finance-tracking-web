# Technical Context: AqshaTracker Project

## Core Technologies

### Backend
- **Backend Framework:** NestJS (v10.x typically, check `package.json` for exact version)
- **Language:** TypeScript
- **Database:** PostgreSQL (Version managed by Docker likely, see `docker-compose.yml`)
- **ORM:** Prisma (Check `package.json` for version)
- **API Type:** REST

### Frontend
- **Frontend Framework:** Next.js with App Router
- **Language:** TypeScript
- **CSS Framework:** Tailwind CSS
- **Animation Library:** Framer Motion
- **State Management:** Zustand
- **Visualization:** Recharts
- **Font:** Geist (from Vercel)
- **Theming:** next-themes for light/dark mode

## Key Libraries & Integrations

### Backend
- **Authentication:**
    - `@nestjs/passport`
    - `passport`
    - `passport-jwt`
    - `@nestjs/jwt`
    - `bcrypt` (for password hashing)
- **Validation:**
    - `zod`
    - `nestjs-zod` (integrates Zod with NestJS Pipes/DTOs)
- **Configuration:**
    - `@nestjs/config` (for environment variable management)
- **API Documentation:**
    - `@nestjs/swagger`
    - `swagger-ui-express`
- **Database Client:**
    - `@prisma/client` (generated by Prisma)

### Frontend
- **Core:**
    - `react`
    - `react-dom`
    - `next`
- **Styling:**
    - `tailwindcss`
    - `postcss`
    - `autoprefixer`
- **Data Management:**
    - `zustand` (for state management)
- **Animation:**
    - `framer-motion`
- **UI Components:**
    - Custom component library built in-house
- **Internationalization:**
    - Custom implementation with Next.js middleware
- **Theming:**
    - `next-themes`
- **Data Visualization:**
    - `recharts`

## Development Setup

### Backend
- **Package Manager:** npm (deduced from `package-lock.json`)
- **Prerequisites:** Node.js (check `.nvmrc` or `package.json` engines if available, otherwise assume a recent LTS version like 18.x or 20.x), Docker (for database)
- **Running Locally:**
    1.  `cp .env.example .env` (and fill in details, especially `DATABASE_URL` and `JWT_SECRET`)
    2.  Run `docker-compose up -d` (to start PostgreSQL if using Docker)
    3.  Run `npm install`
    4.  Run `npx prisma generate` (to ensure Prisma client is up-to-date)
    5.  Run `npx prisma migrate dev` (to apply migrations if needed)
    6.  Run `npm run start:dev` (to start the NestJS application in watch mode)
- **Environment Variables:** Managed via `.env` file (loaded by `@nestjs/config`). See `.env.example` for required variables.
- **Linting/Formatting:** ESLint (`eslint.config.mjs`), Prettier (`.prettierrc`). Configured in `package.json` scripts.

### Frontend
- **Package Manager:** npm (based on `package-lock.json`)
- **Prerequisites:** Node.js (LTS version, likely 18+)
- **Running Locally:**
    1. `cp .env.example .env.local` (and fill in values, especially `NEXT_PUBLIC_API_URL`)
    2. Run `npm install`
    3. Run `npm run dev` (to start Next.js development server)
- **Environment Variables:** Managed via `.env.local` with Next.js handling. `NEXT_PUBLIC_` prefix for client-side variables.
- **Linting/Formatting:** ESLint (`eslint.config.mjs`), TypeScript (`tsconfig.json`).

## Technical Constraints

### Backend
- Must adhere to the specified tech stack.
- All database interactions must go through the `PrismaService`.
- All API inputs must be validated using `nestjs-zod` DTOs.
- Authentication must use JWT and Passport.
- Code style should follow configured ESLint/Prettier rules.

### Frontend
- Must follow Feature Sliced Design architecture.
- Must support both light and dark themes.
- Must be responsive for mobile, tablet, and desktop.
- Must support internationalization (currently English and Russian).
- Must use Tailwind CSS for styling.
- All UI components should be within shared/ui directory.
- API interactions should follow the established pattern in shared/api.

## Dependencies

### Backend
- External PostgreSQL database (can be run via Docker).
- Node.js runtime.

### Frontend
- Backend API for data operations.
- Node.js runtime for development.
- Modern browser for client-side features. 